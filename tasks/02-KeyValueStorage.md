## 2. Работа с бинарными данными

### Файловая база данных
Нужно реализовать библиотеку для работы с файловым хранилищем.

Библиотека должна предоставлять реализацию интерфейса [KeyValueStorage](../homework-base/src/main/java/ru/mipt/java2016/homework/base/task2/KeyValueStorage.java).
При создании экземпляра KeyValueStorage в конструктор нужно передать директорию, в которой будет сохраняться содержимое базы.
Все данные должны храниться в этой директории, в файле `storage.db`, в компактном, предпочтительно, бинарном формате.

Хранилище должно быть перзистентным, т.е. данные не должны теряться после выключения хранилища.
Для этого данные должны писаться на диск. Обратите внимание, что нет необходимости писать данные на диск после каждого изменения.
Но после закрытия хранилища методом close() нужно гарантировать, что на диске остался актуальный слепок данных.

Кроме методов чтения и модификации хранилища по ключам также нужно предоставить возможность проитерироваться по всем ключам хранилища.

Согласно спецификации интерфейса, хранилище должно иметь возможность работы с разными типами данных.
При этом в этом задании разрабатывать универсальный сериализатор для всех типов данных не требуется.
Достаточно продемонстрировать возможность работы с типами данных, которые используются в юнит-тестах.

Для проверки работоспособности решения воспользуйтесь [юнит-тестом](../homework-tests/src/main/java/ru/mipt/java2016/homework/tests/task2/AbstractSingleFileStorageTest.java).

#### Подводные камни

* При запуске приложения нужно убедиться, что директория, в которой предлагается работать, существует.
* Если файла для хранилища нет, его надо создать; если он есть - надо убедиться, что с ним все в порядке.
* При чтении из файла нужно проверять его валидность, избегать слишком больших и маленьких значений буферов.
